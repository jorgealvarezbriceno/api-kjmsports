# -------------------------------------------------------------------------
# 1. Configuración de la Base de Datos (Connection String)
# -------------------------------------------------------------------------

# Railway inyecta estas variables desde el servicio MySQL.
# Si la variable de entorno no existe (local), usa el valor por defecto (Laragon).
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/kjmsports?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:} 

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuración adicional de HikariCP
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000

# -------------------------------------------------------------------------
# 2. Configuración de Puerto
# -------------------------------------------------------------------------

# Spring Boot usará la variable de entorno 'PORT' proporcionada por Railway, 
# o el puerto 8080 si no existe (local).
server.port=${PORT:8080}

# -------------------------------------------------------------------------
# 3. Configuración de JPA/Hibernate (Puede permanecer igual)
# -------------------------------------------------------------------------

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect