# -------------------------------------------------------------------------
# 1. Configuración de la Base de Datos (Connection String)
# -------------------------------------------------------------------------

# **PRODUCCIÓN (Railway):** Usa la variable de entorno SPRING_DATASOURCE_URL.
# **LOCAL (Laragon):** Usa el valor por defecto (localhost:3306/kjmsports).
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/kjmsports?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:} 

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuración adicional de HikariCP
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000

# -------------------------------------------------------------------------
# 2. Configuración de Puerto
# -------------------------------------------------------------------------

# Usa el puerto proporcionado por Railway ('PORT') o 8080 en local.
server.port=${PORT:8080}

# -------------------------------------------------------------------------
# 3. Configuración de JPA/Hibernate
# -------------------------------------------------------------------------

# **CORRECCIÓN:** Cambiado a MySQLDialect genérico para evitar errores de versión.
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect